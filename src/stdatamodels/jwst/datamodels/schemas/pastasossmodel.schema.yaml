%YAML 1.1
---
$schema: "http://stsci.edu/schemas/asdf/asdf-schema-1.1.0"
id: "http://stsci.edu/schemas/jwst_datamodel/pastasossmodel.schema"
allOf:
- $ref: referencefile.schema
- $ref: keyword_exptype.schema
- $ref: keyword_filter.schema
- type: object
  properties:
    meta:
      type: object
      properties:
        order2_separation_cutoff:
          title: Order 2 separation cutoff wavelengths
          type: array
          items:
            type: number
            minItems: 2
            maxItems: 2
        pwcpos_bounds:
          title: Pupil wheel position bounds for this configuration
          type: array
          items:
            type: number
            minItems: 2
            maxItems: 2
        pwcpos_cmd:
          title: Commanded position
          type: number
        soss_xdim:
          title: SOSS subarray x dimension
          type: integer
        soss_ydim:
          title: SOSS subarray y dimension
          type: integer
        subarray_ymin:
          title: SOSS subarray minimum y pixel
          type: integer
        wavemap_nwl:
          title: Number of wavelength points in wavemap
          type: integer
        wavemap_wlmax:
          title: Maximum wavelength in wavemap
          type: number
        wavemap_wlmin:
          title: Minimum wavelength in wavemap
          type: number
    traces:
      type: array
      title: An array of trace models by order
      items:
        type: object
        properties:
          spectral_order:
            title: Spectral order
            type: integer
            minimum: 1
          pivot_x:
            title: Pixel rotation point
            type: number
          pivot_y:
            title: Pixel rotation point
            type: number
          trace:
            title: The trace position
            ndim: 2
            datatype: float64
          oversampling:
            title: Pixel oversampling
            type: integer
            default: 1
          padding:
            title: Native pixel-size padding around the image
            type: integer
            default: 0
    wavecal_models:
      type: array
      title: Polynomial regression model fitting wavelength to x, offset
      items:
        type: object
        properties:
          spectral_order:
            title: Spectral order
            type: integer
            minimum: 1
          polynomial_degree:
            title: Polynomial degree of model
            type: integer
          coefficients:
            title: List of polynomial coefficients
            ndim: 1
            datatype: float64
          coefficient_labels:
            title: Coefficient order specification
            type: string
          scale_extents:
            title: Range of values for normalization
            ndim: 2
            datatype: float64
    throughputs:
      type: array
      title: An array of GR700XD throughputs by order
      items:
        type: object
        properties:
          spectral_order:
            title: Spectral order
            type: integer
            minimum: 1
          throughput:
            title: The throughput array
            ndim: 1
            datatype: float64
          wavelength:
            title: The wavelength array
            ndim: 1
            datatype: float64